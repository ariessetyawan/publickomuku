/* 178ab66cf42399186515e345ee09074ba4b00e08
 * Part of 'GoodForNothing Classifieds' for XenForo
 * Copyright Â© 2012-2016 GoodForNothing Labs
 * Licensed under GoodForNothing Labs' license agreement: https://gfnlabs.com/legal/license
 */
!function(c,b,a,d){if(typeof KomuKuYJB=="undefined"){KomuKuYJB={}}KomuKuYJB.ReplyLoader=function(e){this.__construct(e)};KomuKuYJB.ReplyLoader.prototype={__construct:function(e){this.$link=e;e.click(c.context(this,"click"))},click:function(f){var g=this.$link.data("loadparams");if(typeof g!="object"){g={}}f.preventDefault();XenForo.ajax(this.$link.attr("href"),g,c.context(this,"loadSuccess"),{type:"GET"})},loadSuccess:function(e){var f,k=this.$link.data("replace"),h=[],j,g;if(XenForo.hasResponseError(e)){return false}if(k){f=c(k)}else{f=this.$link.parent()}if(e.comments&&e.comments.length){for(g=0;g<e.comments.length;g++){c(e.comments[g]).xfInsert("insertBefore",f)}f.xfHide()}else{f.xfRemove()}}};KomuKuYJB.ReplyPosterClickId=null;KomuKuYJB.ReplyPoster=function(e){this.__construct(e)};KomuKuYJB.ReplyPoster.prototype={__construct:function(e){this.$link=e;this.$commentArea=c(e.data("commentarea"));this.$commentId=e.closest("li.ClassifiedComment").attr("id");if(this.$commentArea.data("submiturl")){this.submitUrl=this.$commentArea.data("submiturl")}else{this.submitUrl=e.attr("href")}e.click(c.context(this,"click"));this.$commentArea.find("input:submit, button").click(c.context(this,"submit"))},click:function(g){g.preventDefault();var f=this;this.$commentArea.xfFadeDown(XenForo.speed.fast,function(){c(this).find('textarea[name="message"]').focus();KomuKuYJB.ReplyPosterClickId=f.$commentId})},submit:function(g){g.preventDefault();if(this.$commentId!=KomuKuYJB.ReplyPosterClickId){return}var f=this.$commentArea.closest("form");if(f.length){if(!f.data("MultiSubmitDisable")){XenForo.MultiSubmitFix(f)}f.data("MultiSubmitDisable")()}XenForo.ajax(this.submitUrl,{message:this.$commentArea.find('textarea[name="message"]').val()},c.context(this,"submitSuccess"))},submitSuccess:function(e){var f=this.$commentArea.closest("form");if(f.data("MultiSubmitEnable")){f.data("MultiSubmitEnable")()}if(XenForo.hasResponseError(e)){return false}if(e.comment){c(e.comment).xfInsert("insertBefore",this.$commentArea)}this.$commentArea.find('textarea[name="message"]').val("")}};XenForo.register("a.ReplyLoader","KomuKuYJB.ReplyLoader");XenForo.register("a.ReplyPoster","KomuKuYJB.ReplyPoster")}(jQuery,this,document);