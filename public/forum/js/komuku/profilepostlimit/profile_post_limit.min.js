!function(c,b,a,d){XenForo.StatusEditor=function(e){this.__construct(e)};XenForo.StatusEditor.prototype={__construct:function(e){this.$input=e.keyup(c.context(this,"update")).keydown(c.context(this,"preventNewline"));this.$counter=c(this.$input.data("statuseditorcounter"));if(!this.$counter.length){this.$counter=c("<span />").insertAfter(this.$input)}this.$counter.addClass("statusEditorCounter").text("0");this.$form=this.$input.closest("form").bind({AutoValidationComplete:c.context(this,"saveStatus")});this.charLimit=XenForo.ApplCharacterLimitOption;this.charCount=0;this.update()},update:function(g){var f=this.$input.val();if(this.$input.attr("placeholder")&&this.$input.attr("placeholder")==f){this.setCounterValue(this.charLimit,f.length)}else{this.setCounterValue(this.charLimit-f.length,f.length)}},setCounterValue:function(e,f){if(e<0){this.$counter.addClass("error");this.$counter.removeClass("warning")}else{if(e<=this.charLimit-130){this.$counter.removeClass("error");this.$counter.addClass("warning")}else{this.$counter.removeClass("error");this.$counter.removeClass("warning")}}this.$counter.text(e);this.charCount=f||this.$input.val().length},preventNewline:function(f){if(f.which==13){f.preventDefault();c(this.$input.get(0).form).submit();return false}},saveStatus:function(f){this.$input.val("");this.update(f);if(f.ajaxData&&f.ajaxData.status!==undefined){c(".CurrentStatus").text(f.ajaxData.status)}}}}(jQuery,this,document);